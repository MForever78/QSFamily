var QSFamily={common:function(){var t=window.location.pathname.split("/")[1];t&&($("#nav-index").removeClass("is-active"),$("#nav-"+t).addClass("is-active")),$(".message").children(".message-icon").on("click",function(){$(this).parent().addClass("is-hidden")})},loginWrap:function(){$("a.forget").on("click",function(t){t.preventDefault(),$("#login").addClass("is-hidden"),$("#findpassword").removeClass("is-hidden")})},writeWrap:function(){var t=$("#write-content");if(0!==t.length){new Simditor({textarea:t,toolbar:["title","bold","italic","underline","strikethrough","color","|","ol","ul","blockquote","code","table","|","link","hr","|","indent","outdent","alignment"]})}$("#write-form").on("submit",function(t){})},courseListWrap:function(){$(".course-tab").on("click",function(t){t.preventDefault();var a=$(t.currentTarget);a.addClass("active"),a.siblings().removeClass("active");var n=$(t.target.dataset.target);n.siblings().removeClass("in"),setTimeout(function(){n.siblings().removeClass("active"),n.addClass("active in")},200)}).first().find("a").click(),$("a[data-action=edit]").on("click",function(t){location.href="/edit/course/"+t.target.dataset.id}),$("a[data-action=delete]").on("click",function(){}),$("a[data-action=new]").on("click",function(){location.href="/write/course"})},profileWrap:function(){$(".profile-tab").on("click",function(t){t.preventDefault();var a=$(t.currentTarget);a.addClass("active"),a.siblings().removeClass("active");var n=$(t.target.dataset.target);n.siblings().removeClass("in"),setTimeout(function(){n.siblings().removeClass("active"),n.addClass("active in")},200)}).first().find("a").click()},assignmentWrap:function(){var t=$("#assignment-wrap");t.find("a[data-action=toggle]").on("click",function(t){t.preventDefault();var a=$(this.dataset.target);a.parents(".panel-group").find(".in").removeClass("in"),a.addClass("in")}).first().click(),t.find(".btn[data-action=add]").on("click",function(){$(this).parent().children(".form").toggleClass("is-hidden")}),t.find(".btn[data-action=delete]").on("click",function(){$.ajax("/assignment",{method:"DELETE",data:{id:this.dataset.target},success:function(t){console.log(t),window.location.reload()}})}),t.find(".assignment-upload").submit(function(t){t.preventDefault(),$(this).find("button").prop("disabled",!0).addClass("loading");var a=new FormData(this);$.ajax("/assignment/upload",{method:"POST",processData:!1,cache:!1,contentType:!1,data:a,success:function(){window.location.reload()}})})},workspaceWrap:function(){$("#workspace-wrap")[0].dataset.courseId;$(".workspace-nav a").on("click",function(t){t.preventDefault(),$("#workspace-wrap").children(".is-active").removeClass("is-active"),$("#"+t.target.dataset.target+"-wrap").addClass("is-active")}).first().click()},workspaceContentWrap:function(){$(".workspace-item li").on("click",function(t){t.stopPropagation(),"close"===this.dataset.action&&$.ajax({url:"/course/close/"+this.dataset.target,method:"POST",success:function(t){console.log(t),window.location.reload()}})}),$(".workspace-item").on("click",function(t){location.href=this.dataset.target})},studentWrap:function(){var t=$("#student-wrap");t.find(".btn[data-action=add]").on("click",function(){$("#add-form").children(".form").toggleClass("is-hidden")}),t.find(".btn[data-action=bulk]").on("click",function(){$("#bulk-form").children(".form").toggleClass("is-hidden")}),t.find("a[data-action=delete]").on("click",function(){$.ajax("student",{method:"DELETE",data:{course:courseId,student:this.dataset.target},success:function(t){console.log(t),window.location.reload()}})})},assignmentCorrection:function(){var t=$("#correction-wrap");t.find("li[data-action=correct]").on("click",function(){$(this).addClass("active").siblings().removeClass("active")})}};$(function(){QSFamily.common(),$("[id]").each(function(){var t=this.id.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()});QSFamily[t]&&QSFamily[t]()})});