$(function(){var t=$("#write-content");if(0!==t.length){new Simditor({textarea:t,toolbar:["title","bold","italic","underline","strikethrough","color","|","ol","ul","blockquote","code","table","|","link","hr","|","indent","outdent","alignment"]})}$("#write-form").on("submit",function(t){}),$(".course-tab").on("click",function(t){t.preventDefault();var a=$(t.currentTarget);a.addClass("active"),a.siblings().removeClass("active");var n=$(t.target.dataset.target);n.siblings().removeClass("in"),setTimeout(function(){n.siblings().removeClass("active"),n.addClass("active in")},200)}).first().find("a").click(),$("a[data-action=edit]").on("click",function(t){window.href="/edit/course/"+t.target.dataset.id}),$("a[data-action=delete]").on("click",function(){}),$("a[data-action=new]").on("click",function(){window.href="/write/course"});var a=$("#assignment-wrap");a.find("a[data-action=toggle]").on("click",function(t){t.preventDefault();var a=$(this.dataset.target);a.parents(".panel-group").find(".in").removeClass("in"),a.addClass("in")}).first().click(),a.find(".btn[data-action=add]").on("click",function(){$(this).parent().children(".form").toggleClass("is-hidden")}),a.find(".btn[data-action=delete]").on("click",function(){$.ajax("/assignment",{method:"DELETE",data:{id:this.dataset.target},success:function(t){console.log(t),window.location.reload()}})}),a.find(".assignment-upload").submit(function(t){t.preventDefault(),$(this).find("button").prop("disabled",!0).addClass("loading");var a=new FormData(this);$.ajax("/assignment/upload",{method:"POST",processData:!1,cache:!1,contentType:!1,data:a,success:function(){window.location.reload()}})});var n=window.location.pathname.split("/")[1];n&&($("#nav-index").removeClass("is-active"),$("#nav-"+n).addClass("is-active")),$(".message").children(".message-icon").on("click",function(){$(this).parent().addClass("is-hidden")});var i=$("#workspace-wrap")[0].dataset.courseId;$(".workspace-nav a").on("click",function(t){t.preventDefault(),$("#workspace-wrap").children(".is-active").removeClass("is-active"),$("#"+t.target.dataset.target+"-wrap").addClass("is-active")}).first().click();var e=$("#student-wrap");e.find(".btn[data-action=add]").on("click",function(){$("#add-form").children(".form").toggleClass("is-hidden")}),e.find(".btn[data-action=bulk]").on("click",function(){$("#bulk-form").children(".form").toggleClass("is-hidden")}),e.find("a[data-action=delete]").on("click",function(){$.ajax("student",{method:"DELETE",data:{course:i,student:this.dataset.target},success:function(t){console.log(t),window.location.reload()}})})});